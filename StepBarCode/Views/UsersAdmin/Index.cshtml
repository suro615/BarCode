@using Microsoft.AspNet.Identity
@model IEnumerable<StepBarCode.Models.ApplicationUser>
<!-- Docs page layout -->
<div class="bs-docs-header" id="content" tabindex="-1">
    <div class="container">
        <p>用户资料的维护，权限分配</p>
    </div>
</div>
<div class="container">
    <p>
        <a class="btn btn-outline btn-sm" onclick="location.href='@Url.Action("Create", "UsersAdmin")'"><span class="glyphicon glyphicon-plus" aria-hidden="true"></span> 新建用户</a>
    </p>
    <table class="table table-striped table-hover">
        <tr>
            <th>
                @*@Html.DisplayNameFor(model => model.UserName)*@用户名
            </th>
            <th>
                @Html.DisplayNameFor(model => model.CompanyID)
            </th>
            <th class="col-md-3">

            </th>
        </tr>

        @foreach (var item in Model)
        {
            <tr>
                <td>
                    @Html.DisplayFor(modelItem => item.UserName)
                </td>
                <td>
                    @Html.DisplayFor(modelItem => item.Company.CompanyName)
                </td>
                <td class="text-right">
                    <a class="btn btn-outline btn-sm" href="/UsersAdmin/Details/@item.Id"><span class="glyphicon glyphicon-folder-open" aria-hidden="true"></span> 查看</a>
                    <a class="btn btn-outline btn-sm" href="/UsersAdmin/Edit/@item.Id"><span class="glyphicon glyphicon-pencil" aria-hidden="true"></span> 编辑</a>
                    @if (item.Id != User.Identity.GetUserId())
                    {
                        <a class="btn btn-outline btn-sm" href="/UsersAdmin/Delete/@item.Id"><span class="glyphicon glyphicon-remove" aria-hidden="true"></span> 删除</a>
                    }
                    else
                    {
                        <a class="btn btn-outline btn-sm" disabled><span class="glyphicon glyphicon-remove" aria-hidden="true"></span> 删除</a>
                    }
                </td>
            </tr>
        }

    </table>
</div>